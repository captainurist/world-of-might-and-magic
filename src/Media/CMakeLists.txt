cmake_minimum_required(VERSION 3.20.4 FATAL_ERROR)

set(MEDIA_SOURCES
        Media.cpp
        MediaLogger.cpp
        MediaPlayer.cpp)

set(MEDIA_HEADERS
        Media.h
        MediaLogger.h
        MediaPlayer.h)

add_library(media STATIC ${MEDIA_SOURCES} ${MEDIA_HEADERS})
target_link_libraries(media PUBLIC media_audio utility application)
target_link_libraries(media PRIVATE ffmpeg::avcodec ffmpeg::avformat ffmpeg::avutil ffmpeg::swscale ffmpeg::swresample)
target_compile_definitions(media PRIVATE FF_API_NEXT)
#target_include_directories(media PRIVATE ${FFMPEG_INCLUDE_DIRS})

message(STATUS "FFMPEG_INCLUDE_DIRS=${FFMPEG_INCLUDE_DIRS}")

target_check_style(media)

add_subdirectory(Audio)
